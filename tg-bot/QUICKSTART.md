# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç Telegram –±–æ—Ç–∞

## 1. –ü–æ–ª—É—á–∏—Ç–µ –≤–∞—à Telegram User ID

–ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É @userinfobot –≤ Telegram, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –≤–∞—à `user_id`.

## 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SUPERADMIN_IDS

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à user_id:

```bash
SUPERADMIN_IDS=123456789  # –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π user_id
```

–ï—Å–ª–∏ —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ, —É–∫–∞–∂–∏—Ç–µ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é:
```
SUPERADMIN_IDS=123456789,987654321
```

## 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
cd /home/user/n8n-install
docker compose -p localai up -d tg-bot
```

## 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

```bash
docker compose -p localai logs -f tg-bot
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
INFO - DB synced.
INFO - Seeded default menu items.
INFO - Bot started polling...
```

## 5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –±–æ—Ç–∞

1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram (–∏–º—è –±–æ—Ç–∞ –≤—ã –∑–∞–¥–∞–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ @BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏:
   - üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
   - üè° –°–µ–º–µ–π–Ω–∞—è –ø–∞–Ω–µ–ª—å (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–æ–≤)

## 6. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–æ–≤)

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –ø–æ–ª—É—á–∏–ª–∏ –ø—Ä–∞–≤–∞ superadmin, –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –º–µ–Ω—é:

- `/menu_list` - –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—é
- `/menu_add STATS –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ user,superadmin 30` - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø—É–Ω–∫—Ç
- `/menu_toggle STATS` - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –ø—É–Ω–∫—Ç
- `/menu_set_roles STATS superadmin` - –∏–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª–∏

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –Ω—É–∂–Ω–æ –Ω–∞–∂–∞—Ç—å `/start` —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

‚ö†Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –§–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ –ø–∞—Ä–æ–ª–∏. –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –µ–≥–æ –≤ git!

‚ö†Ô∏è **SUPERADMIN_IDS**: –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å –≤–∞—à user_id, –≤—ã –Ω–µ –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–∞–≤–∞ —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ú–æ–∂–Ω–æ –±—É–¥–µ—Ç –Ω–∞–∑–Ω–∞—á–∏—Ç—å —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/setrole` –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –∫—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–π —Å –ø—Ä–∞–≤–∞–º–∏ —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞ –¥–æ–±–∞–≤–∏—Ç –≤–∞—Å.

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ä–æ—É—Ç–µ—Ä –≤ `app/routers/` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `stats.py`)
2. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `app/routers/start.py`:
   ```python
   if key == "STATS":
       from .stats import show_stats
       await show_stats(callback.message, db_user)
       await callback.answer()
       return
   ```
3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Ä–æ—É—Ç–µ—Ä –≤ `app/main.py`:
   ```python
   from .routers import stats as stats_router
   dp.include_router(stats_router.router)
   ```
4. –î–æ–±–∞–≤—å—Ç–µ –ø—É–Ω–∫—Ç –º–µ–Ω—é —á–µ—Ä–µ–∑ –±–æ—Ç–∞: `/menu_add STATS –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ user,superadmin 30`
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: `docker compose -p localai restart tg-bot`

